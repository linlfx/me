---
layout: post
title: "Web安全(1)"
date: 2015-04-16 23:49
categories: ["Web", "安全"]
---

一、安全的要素
-----------------------

信息安全的核心问题是要保障数据的合法使用者能够在任何需要该数据时获得保密的，没有被非法更改过的数据。主要有以下几要素：

机密性

- 保证数据内容不能泄露。
- _用户的密码用明文保存，就破坏了机密性。_

完整性

- 保证数据内容不被篡改。
- _使用HTTP提交数据时，数据在传输过程中被篡改后再发往服务器，就破坏了完整性。_

可用性

- 保证数据可被正常访问和使用。
- _像拒绝服务攻击（DoS）就是破坏了可用性。_

__最基本的安全要素就上面三个，下面还有一些其他的。__

可审计性

- 记录对数据产生的操作，用于日后的分析、审查。

不可抵赖性

- 至少是保证完整性要素的，另外，在传输的数据中必须携带用于身份识别的信息，且这部分信息在不同主体间不能发生碰撞。
- _公钥加密中，使用私钥签名，并由接收方使用公钥验签就是为了保证不可抵赖性。_

二、风险分析
------------------

对于数据可能会遇到什么威胁，一般是拍脑袋想一想，也可以使用模型帮忙，下面是一个叫STRIDE的威胁模型：

![]({{ "/images/web-security/STRIDE.png" | prepend: site.baseurl }})

### 如何评估风险？ ###

数据受到威胁就可能造成损失，但损失有大有小，威胁发生的概率也有高有低，我们要结合具体情况来对风险做出判断。有一个叫DREAD的模型，可以指导我们如何判断威胁的风险程度。

![]({{ "/images/web-security/DREAD.png" | prepend: site.baseurl }})

每一个因素都分高、中、低三个等级，权重值分别为3、2、1。

当有一个威胁时，我们将它在每一个因素中的权重值相加，即可得出风险系数。

假如我们对风险系数范围的定义如下：

高危：12~15分，中危：8~11分，低危：5~7分。

那如果以使用明文保存密码为例，风险系数可以像下面这样计算：

风险 = D(3) + R(1) + E(1) + A(3) + D(1) = 9分，这就是一个中危风险。

后续对威胁的处理，应当根据风险的大小和修复的难易程度做出平衡。

同源策略
-----------------------

同源策略是浏览器最基本的安全策略，它认为任何站点的内容都是不安全的，所以当脚本运行时，只被允许访问来自同一站点的资源。

同源是指域名、协议、端口都相同。

举个例子：

   恶意网站用一个iframe把真实的银行登录页放到他的页面上，当用户使用用户名密码登录时，父页面的javascript就可以读取到银行登录页表单中的内容。甚至浏览器的1个Tab页打开了恶意网站，另一个Tab页打开了银行网站，恶意网站中的javascript可以读取到银行网站的内容。这样银行卡和密码就能被轻易拿走。
 


